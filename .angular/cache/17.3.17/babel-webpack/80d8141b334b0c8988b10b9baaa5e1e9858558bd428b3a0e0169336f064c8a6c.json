{"ast":null,"code":"import { IsLoggedHeaderComponent } from \"../../components/header/is-logged-header/is-logged-header.component\";\nimport { IsUnLoggedHeaderComponent } from \"../../components/header/is-un-logged-header/is-un-logged-header.component\";\nimport { CommonModule } from '@angular/common';\nimport { FooterComponent } from \"../../components/footer/footer.component\";\nimport { MovieCardComponent } from \"../../components/movie-card/movie-card.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/movie.service\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"@angular/common\";\nfunction ProfilePageComponent_app_is_logged_header_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-is-logged-header\");\n  }\n}\nfunction ProfilePageComponent_app_is_un_logged_header_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-is-un-logged-header\");\n  }\n}\nfunction ProfilePageComponent_div_42_app_movie_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-movie-card\", 19);\n    i0.ɵɵlistener(\"click\", function ProfilePageComponent_div_42_app_movie_card_1_Template_app_movie_card_click_0_listener() {\n      const movie_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.removeMovie(\"watch\", movie_r2.id));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const movie_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"movie\", movie_r2);\n  }\n}\nfunction ProfilePageComponent_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProfilePageComponent_div_42_app_movie_card_1_Template, 1, 1, \"app-movie-card\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.watchlist);\n  }\n}\nfunction ProfilePageComponent_div_43_app_movie_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-movie-card\", 19);\n    i0.ɵɵlistener(\"click\", function ProfilePageComponent_div_43_app_movie_card_1_Template_app_movie_card_click_0_listener() {\n      const movie_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.removeMovie(\"favorite\", movie_r5.id));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const movie_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"movie\", movie_r5);\n  }\n}\nfunction ProfilePageComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProfilePageComponent_div_43_app_movie_card_1_Template, 1, 1, \"app-movie-card\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.favorite);\n  }\n}\nfunction ProfilePageComponent_div_44_app_movie_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-movie-card\", 19);\n    i0.ɵɵlistener(\"click\", function ProfilePageComponent_div_44_app_movie_card_1_Template_app_movie_card_click_0_listener() {\n      const movie_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.removeMovie(\"watched\", movie_r7.id));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const movie_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"movie\", movie_r7);\n  }\n}\nfunction ProfilePageComponent_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProfilePageComponent_div_44_app_movie_card_1_Template, 1, 1, \"app-movie-card\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.watched);\n  }\n}\nexport let ProfilePageComponent = /*#__PURE__*/(() => {\n  class ProfilePageComponent {\n    movieService;\n    authService;\n    isLoggedIn = false;\n    user = {\n      name: 'Username',\n      group: 'Kinomane',\n      rating: 0,\n      comments: 0,\n      registered: new Date('2022-09-04T18:42:00'),\n      signature: '',\n      about: '',\n      avatarUrl: '../../../../assets/img/header/avatar.png'\n    };\n    watchlist = [];\n    favorite = [];\n    watched = [];\n    activeTab = 'watchlist';\n    constructor(movieService, authService) {\n      this.movieService = movieService;\n      this.authService = authService;\n    }\n    setTab(tab) {\n      this.activeTab = tab;\n    }\n    ngOnInit() {\n      this.authService.loggedIn$.subscribe(status => this.isLoggedIn = status);\n      this.watchlist = this.movieService.getWatchLater();\n      this.favorite = this.movieService.getFavorites();\n      this.watched = this.movieService.getWatched();\n    }\n    removeMovie(listType, movieId) {\n      console.log(`Removing from ${listType}: movie ID ${movieId}`);\n      if (listType === 'watch') {\n        this.watchlist = this.watchlist.filter(movie => movie.id !== movieId);\n      } else if (listType === 'favorite') {\n        this.favorite = this.favorite.filter(movie => movie.id !== movieId);\n      } else if (listType === 'watched') {\n        this.watched = this.watched.filter(movie => movie.id !== movieId);\n      }\n    }\n    static ɵfac = function ProfilePageComponent_Factory(t) {\n      return new (t || ProfilePageComponent)(i0.ɵɵdirectiveInject(i1.MovieService), i0.ɵɵdirectiveInject(i2.AuthService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProfilePageComponent,\n      selectors: [[\"app-profile-page\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 46,\n      vars: 20,\n      consts: [[1, \"container\"], [4, \"ngIf\"], [1, \"profile-wrapper\"], [1, \"profile-title\"], [1, \"profile-card\"], [1, \"profile-tabs\"], [1, \"tab\", 3, \"click\"], [1, \"tab-count\"], [1, \"profile-main\"], [\"alt\", \"avatar\", 1, \"profile-avatar\", 3, \"src\"], [1, \"profile-info\"], [1, \"profile-name\"], [1, \"profile-group\"], [1, \"profile-stats\"], [1, \"status\", \"online\"], [1, \"profile-footer\"], [1, \"btn\", \"edit-btn\"], [1, \"movie-list\"], [3, \"movie\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\", \"movie\"]],\n      template: function ProfilePageComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementContainerStart(0, 0);\n          i0.ɵɵtemplate(1, ProfilePageComponent_app_is_logged_header_1_Template, 1, 0, \"app-is-logged-header\", 1)(2, ProfilePageComponent_app_is_un_logged_header_2_Template, 1, 0, \"app-is-un-logged-header\", 1);\n          i0.ɵɵelementStart(3, \"div\", 2)(4, \"h2\", 3);\n          i0.ɵɵtext(5, \"Profile\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"div\", 6);\n          i0.ɵɵlistener(\"click\", function ProfilePageComponent_Template_div_click_8_listener() {\n            return ctx.setTab(\"watchlist\");\n          });\n          i0.ɵɵtext(9, \" Watch Later \");\n          i0.ɵɵelementStart(10, \"span\", 7);\n          i0.ɵɵtext(11);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(12, \"div\", 6);\n          i0.ɵɵlistener(\"click\", function ProfilePageComponent_Template_div_click_12_listener() {\n            return ctx.setTab(\"favorite\");\n          });\n          i0.ɵɵtext(13, \" Favorite \");\n          i0.ɵɵelementStart(14, \"span\", 7);\n          i0.ɵɵtext(15);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"div\", 6);\n          i0.ɵɵlistener(\"click\", function ProfilePageComponent_Template_div_click_16_listener() {\n            return ctx.setTab(\"watched\");\n          });\n          i0.ɵɵtext(17, \" Watched \");\n          i0.ɵɵelementStart(18, \"span\", 7);\n          i0.ɵɵtext(19);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(20, \"div\", 8);\n          i0.ɵɵelement(21, \"img\", 9);\n          i0.ɵɵelementStart(22, \"div\", 10)(23, \"h3\", 11);\n          i0.ɵɵtext(24);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"p\", 12);\n          i0.ɵɵtext(26);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"div\", 13)(28, \"span\");\n          i0.ɵɵtext(29);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"span\");\n          i0.ɵɵtext(31);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(32, \"span\", 14);\n          i0.ɵɵtext(33, \"Online\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(34, \"div\", 15)(35, \"p\");\n          i0.ɵɵtext(36, \"About: \");\n          i0.ɵɵelementStart(37, \"strong\");\n          i0.ɵɵtext(38);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(39, \"button\", 16);\n          i0.ɵɵtext(40, \"Change profile\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(41, \"div\", 17);\n          i0.ɵɵtemplate(42, ProfilePageComponent_div_42_Template, 2, 1, \"div\", 1)(43, ProfilePageComponent_div_43_Template, 2, 1, \"div\", 1)(44, ProfilePageComponent_div_44_Template, 2, 1, \"div\", 1);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(45, \"app-footer\");\n          i0.ɵɵelementContainerEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoggedIn);\n          i0.ɵɵadvance(6);\n          i0.ɵɵclassProp(\"active\", ctx.activeTab === \"watchlist\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.watchlist.length);\n          i0.ɵɵadvance();\n          i0.ɵɵclassProp(\"active\", ctx.activeTab === \"favorite\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.watchlist.length);\n          i0.ɵɵadvance();\n          i0.ɵɵclassProp(\"active\", ctx.activeTab === \"watched\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.watched.length);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"src\", ctx.user.avatarUrl, i0.ɵɵsanitizeUrl);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.user.name);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\"Group: \", ctx.user.group, \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"Rating: \", ctx.user.rating, \"\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\"Comments: \", ctx.user.comments, \"\");\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate(ctx.user.about || \"-\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"watchlist\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"favorite\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"watched\");\n        }\n      },\n      dependencies: [CommonModule, i3.NgForOf, i3.NgIf, IsLoggedHeaderComponent, IsUnLoggedHeaderComponent, FooterComponent, MovieCardComponent],\n      styles: [\".profile-wrapper[_ngcontent-%COMP%]{padding:100px 80px;color:#fff;font-family:Montserrat,sans-serif}.profile-wrapper[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]{font-size:28px;margin-bottom:20px}.profile-wrapper[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{background-color:#1a1a1a;border-radius:10px;padding:20px}.profile-wrapper[_ngcontent-%COMP%]   .profile-tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.profile-wrapper[_ngcontent-%COMP%]   .profile-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{border:2px solid #e65c4f;color:#fff;padding:10px 20px;border-radius:10px;margin:0 10px;cursor:pointer;position:relative;transition:all .3s}.profile-wrapper[_ngcontent-%COMP%]   .profile-tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background-color:transparent;font-weight:600;border-color:#ff6a5c}.profile-wrapper[_ngcontent-%COMP%]   .profile-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-count[_ngcontent-%COMP%]{background-color:#fff;color:#e65c4f;border-radius:50%;font-size:10px;padding:2px 6px;position:absolute;top:-10px;right:-10px}.profile-wrapper[_ngcontent-%COMP%]   .profile-main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#000;padding:20px;border-radius:10px;margin-bottom:20px}.profile-wrapper[_ngcontent-%COMP%]   .profile-main[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.profile-wrapper[_ngcontent-%COMP%]   .profile-main[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{flex:1;margin-left:30px}.profile-wrapper[_ngcontent-%COMP%]   .profile-main[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{font-size:22px;margin-bottom:5px}.profile-wrapper[_ngcontent-%COMP%]   .profile-main[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-group[_ngcontent-%COMP%]{opacity:.7;margin-bottom:10px}.profile-wrapper[_ngcontent-%COMP%]   .profile-main[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:20px}.profile-wrapper[_ngcontent-%COMP%]   .profile-main[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .status.online[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:4px 10px;border-radius:5px;font-size:12px;display:inline-block;margin-top:10px}.profile-wrapper[_ngcontent-%COMP%]   .profile-main[_ngcontent-%COMP%]   .btn.pm-btn[_ngcontent-%COMP%]{background-color:#e65c4f;color:#fff;border:none;padding:10px 20px;border-radius:8px;cursor:pointer}.profile-wrapper[_ngcontent-%COMP%]   .profile-footer[_ngcontent-%COMP%]{background-color:#1f1f1f;padding:20px;border-radius:10px;position:relative}.profile-wrapper[_ngcontent-%COMP%]   .profile-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;font-size:14px}.profile-wrapper[_ngcontent-%COMP%]   .profile-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff;font-weight:500}.profile-wrapper[_ngcontent-%COMP%]   .profile-footer[_ngcontent-%COMP%]   .btn.edit-btn[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background-color:#e65c4f;color:#fff;padding:8px 14px;border-radius:8px;border:none;cursor:pointer}.movie-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:20px;padding:40px 80px;color:#fff}@media (max-width: 768px){.movie-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));padding:20px}}@media (max-width: 480px){.movie-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));padding:20px 10px}}\"]\n    });\n  }\n  return ProfilePageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}