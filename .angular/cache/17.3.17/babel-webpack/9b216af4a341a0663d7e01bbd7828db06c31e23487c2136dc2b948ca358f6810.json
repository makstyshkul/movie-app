{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { ButtonModule } from 'primeng/button';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../services/auth.service\";\nimport * as i3 from \"@angular/common\";\nfunction IsLoggedHeaderComponent_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.subscriptionCount, \" \");\n  }\n}\nfunction IsLoggedHeaderComponent_div_25_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"span\", 20);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function IsLoggedHeaderComponent_div_25_div_1_Template_button_click_3_listener() {\n      const movie_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.unsubscribe(movie_r3.id));\n    });\n    i0.ɵɵtext(4, \"Unsubscribe\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const movie_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(movie_r3.title);\n  }\n}\nfunction IsLoggedHeaderComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, IsLoggedHeaderComponent_div_25_div_1_Template, 5, 1, \"div\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.subscribedMovies);\n  }\n}\nfunction IsLoggedHeaderComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"a\", 23);\n    i0.ɵɵlistener(\"click\", function IsLoggedHeaderComponent_div_28_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.navigateToProfile());\n    });\n    i0.ɵɵtext(2, \"Profile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 24);\n    i0.ɵɵtext(4, \"Settings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 25);\n    i0.ɵɵlistener(\"click\", function IsLoggedHeaderComponent_div_28_Template_a_click_5_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r0 = i0.ɵɵnextContext();\n      ctx_r0.logout();\n      return i0.ɵɵresetView($event.preventDefault());\n    });\n    i0.ɵɵtext(6, \"Logout\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let IsLoggedHeaderComponent = /*#__PURE__*/(() => {\n  class IsLoggedHeaderComponent {\n    router;\n    authService;\n    isDropdownVisible = false;\n    subscribedMovies = [];\n    subscriptionCount = 0;\n    showSubscriptionDropdown = false;\n    toggleSubscriptionDropdown() {\n      this.showSubscriptionDropdown = !this.showSubscriptionDropdown;\n    }\n    unsubscribeMovie = new EventEmitter();\n    unsubscribe(movieId) {\n      this.unsubscribeMovie.emit(movieId);\n    }\n    constructor(router, authService) {\n      this.router = router;\n      this.authService = authService;\n    }\n    toggleDropdown() {\n      this.isDropdownVisible = !this.isDropdownVisible;\n    }\n    onDocumentClick(event) {\n      const target = event.target;\n      if (!target.closest('.user-avatar')) {\n        this.isDropdownVisible = false;\n      }\n    }\n    onAvatarClick(event) {\n      event.stopPropagation();\n      this.isDropdownVisible = !this.isDropdownVisible;\n    }\n    logout() {\n      this.authService.logout();\n      this.router.navigate(['/home']);\n    }\n    navigateToCommunity() {\n      this.router.navigate(['/community']);\n    }\n    navigateToMovies() {\n      this.router.navigate(['/movies']);\n    }\n    navigateToProfile() {\n      this.router.navigate(['/profile']);\n    }\n    navigateToTop() {\n      this.router.navigate(['/top']);\n    }\n    navigateToRecommended() {\n      this.router.navigate(['/recommended']);\n    }\n    static ɵfac = function IsLoggedHeaderComponent_Factory(t) {\n      return new (t || IsLoggedHeaderComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: IsLoggedHeaderComponent,\n      selectors: [[\"app-is-logged-header\"]],\n      hostBindings: function IsLoggedHeaderComponent_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵlistener(\"click\", function IsLoggedHeaderComponent_click_HostBindingHandler($event) {\n            return ctx.onDocumentClick($event);\n          }, false, i0.ɵɵresolveDocument);\n        }\n      },\n      inputs: {\n        subscribedMovies: \"subscribedMovies\",\n        subscriptionCount: \"subscriptionCount\"\n      },\n      outputs: {\n        unsubscribeMovie: \"unsubscribeMovie\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 29,\n      vars: 3,\n      consts: [[1, \"header__container\"], [\"href\", \"/\", \"title\", \"Home\", 1, \"header__logo\"], [1, \"logo-box\"], [1, \"logo__title\"], [1, \"header__menu\"], [1, \"menu__list\"], [1, \"list__item\", 3, \"click\"], [1, \"list__item\"], [1, \"header__auth\"], [1, \"notification-icon\", 3, \"click\"], [1, \"pi\", \"pi-bell\"], [\"class\", \"notification-badge\", 4, \"ngIf\"], [\"class\", \"subscription-dropdown\", 4, \"ngIf\"], [1, \"user-avatar\", 3, \"click\"], [\"src\", \"../../../../../assets/img/header/avatar.png\", \"alt\", \"User Avatar\"], [\"class\", \"dropdown-menu\", 4, \"ngIf\"], [1, \"notification-badge\"], [1, \"subscription-dropdown\"], [\"class\", \"subscription-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"subscription-item\"], [1, \"movie-title\"], [3, \"click\"], [1, \"dropdown-menu\"], [\"routerLink\", \"/profile\", 3, \"click\"], [\"routerLink\", \"/settings\"], [\"href\", \"#\", 3, \"click\"]],\n      template: function IsLoggedHeaderComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"a\", 1);\n          i0.ɵɵelement(2, \"div\", 2);\n          i0.ɵɵelementStart(3, \"p\", 3);\n          i0.ɵɵtext(4, \"UA KinoPortal\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(5, \"div\", 4)(6, \"ul\", 5)(7, \"li\", 6);\n          i0.ɵɵlistener(\"click\", function IsLoggedHeaderComponent_Template_li_click_7_listener() {\n            return ctx.navigateToMovies();\n          });\n          i0.ɵɵtext(8, \" Movies \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"li\", 7);\n          i0.ɵɵtext(10, \" Series \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"li\", 7);\n          i0.ɵɵtext(12, \" Cartoons \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"li\", 7);\n          i0.ɵɵtext(14, \" Selections \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"li\", 6);\n          i0.ɵɵlistener(\"click\", function IsLoggedHeaderComponent_Template_li_click_15_listener() {\n            return ctx.navigateToCommunity();\n          });\n          i0.ɵɵtext(16, \"Community\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"li\", 6);\n          i0.ɵɵlistener(\"click\", function IsLoggedHeaderComponent_Template_li_click_17_listener() {\n            return ctx.navigateToTop();\n          });\n          i0.ɵɵtext(18, \" TOP 100 \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"li\", 6);\n          i0.ɵɵlistener(\"click\", function IsLoggedHeaderComponent_Template_li_click_19_listener() {\n            return ctx.navigateToRecommended();\n          });\n          i0.ɵɵtext(20, \" Recommended \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(21, \"div\", 8)(22, \"div\", 9);\n          i0.ɵɵlistener(\"click\", function IsLoggedHeaderComponent_Template_div_click_22_listener() {\n            return ctx.toggleSubscriptionDropdown();\n          });\n          i0.ɵɵelement(23, \"i\", 10);\n          i0.ɵɵtemplate(24, IsLoggedHeaderComponent_span_24_Template, 2, 1, \"span\", 11)(25, IsLoggedHeaderComponent_div_25_Template, 2, 1, \"div\", 12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"div\", 13);\n          i0.ɵɵlistener(\"click\", function IsLoggedHeaderComponent_Template_div_click_26_listener($event) {\n            return ctx.onAvatarClick($event);\n          });\n          i0.ɵɵelement(27, \"img\", 14);\n          i0.ɵɵtemplate(28, IsLoggedHeaderComponent_div_28_Template, 7, 0, \"div\", 15);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(24);\n          i0.ɵɵproperty(\"ngIf\", ctx.subscriptionCount > 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showSubscriptionDropdown && (ctx.subscribedMovies == null ? null : ctx.subscribedMovies.length));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.isDropdownVisible);\n        }\n      },\n      dependencies: [CommonModule, i3.NgForOf, i3.NgIf, InputTextModule, ButtonModule, RouterModule, i1.RouterLink],\n      styles: [\"@import\\\"https://fonts.googleapis.com/css2?family=Smooch+Sans:wght@600&display=swap\\\";@import\\\"https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Smooch+Sans:wght@500&display=swap\\\";.header__container[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:10;padding:15px;display:flex;align-items:center;background:transparent}.header__logo[_ngcontent-%COMP%]{display:flex;margin:0 15px;max-width:300px;text-decoration:none}.logo-box[_ngcontent-%COMP%]{height:60px;width:75px;display:block;background:url(logo-removebg-preview.png) left center no-repeat;background-size:contain;overflow:hidden;text-indent:-1000px}.logo__title[_ngcontent-%COMP%]{display:flex;align-items:center;color:#ffb700;font-family:Smooch Sans,sans-serif;font-weight:600;font-size:28px;padding-top:12px}.header__menu[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:18%}.menu__list[_ngcontent-%COMP%]{display:flex;list-style-type:none;padding:0}.list__item[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:600;font-size:18px;color:#fff;cursor:pointer;transition:background-color .3s}.list__item[_ngcontent-%COMP%]:not(:first-child){padding-left:15px}.list__item[_ngcontent-%COMP%]:hover{color:#ffb700}.header__auth[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px;margin-left:30%}.notification-icon[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#fff;font-size:20px}.user-avatar[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;cursor:pointer}.user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:2px solid white}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:50px;right:0;background-color:#333;border-radius:8px;padding:10px;box-shadow:0 4px 8px #00000080;z-index:100}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;display:block;padding:8px 12px;text-decoration:none;transition:background-color .3s}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#444}.notification-icon[_ngcontent-%COMP%]{position:relative}.notification-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.notification-icon[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;background:red;color:#fff;border-radius:50%;padding:2px 6px;font-size:12px;font-weight:700}.subscription-dropdown[_ngcontent-%COMP%]{position:absolute;top:35px;right:0;background-color:#222;border:1px solid #444;border-radius:8px;padding:10px;width:220px;box-shadow:0 4px 8px #0000004d;z-index:999}.subscription-dropdown[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;color:#fff}.subscription-dropdown[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .movie-title[_ngcontent-%COMP%]{font-size:14px;margin-right:10px;flex:1}.subscription-dropdown[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#ff4d4d;color:#fff;border:none;border-radius:4px;padding:4px 8px;font-size:12px;cursor:pointer}.subscription-dropdown[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#e60000}\"]\n    });\n  }\n  return IsLoggedHeaderComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}